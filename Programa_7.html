<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>

const contactos = [
            {
                nombre: "Maxwell Wright",
                telefono: "(0191) 719 6495",
                email: "Curabitur.egestas.nunc@nonummyac.co.uk"
            },
            {
                nombre: "Raja Villarreal",
                telefono: "0866 398 2895",
                email: "posuere.vulputate@sed.com"
            },
            {
                nombre: "Helen Richards",
                telefono: "0800 1111",
                email: "libero@convallis.edu"
            }
        ];

        contactos.push({
            nombre: "Maisie Haley",
            telefono: "0913 531 3030",
            email: "risus.Quisque@urna.ca"
        });

        function showContact(contactList,index){
            if (contactList instanceof Array && index >= 0 && index < contactList.length){
                alert(`${contactList[index].nombre} / ${contactList[index].telefono} / ${contactList[index].email}`);
            }else{
                alert ("Lista de contactos o índice no válido");
            }
        }

        function showAllContacts(contactList){
            if(contactList instanceof Array){
                let listaContactos = "";
                let contactosLongitud = contactList.length;
                for(let i = 0; i < contactosLongitud; i++){
                    listaContactos+=`${contactList[i].nombre} / ${contactList[i].telefono} / ${contactList[i].email}\n`;
                }
                alert(listaContactos);
            }else{
                alert("Lista de contactos no válida");
            }
        }

        function addNewContact(contactList, nombre, telefono, email){
            if(contactList instanceof Array && nombre && telefono && email){
                contactList.push({
                    nombre: nombre,
                    telefono: telefono,
                    email: email
                });
                alert("Contacto añadido");
            }else{
                alert("Faltan datos para añadir el contacto");
            }
        }

        function sortContacts(contactList, x){ // funcion para ordenar los contactos, recibe la lista de contactos y el criterio x por el que se quiere ordenar
            if(contactList instanceof Array){ 
                if(["nombre", "telefono", "email"].includes(x)){ // si el criterio x incluye nombre, telefono o email
                    contactList.sort((a,b) => a[x].localeCompare(b[x])); // ordena la lista de contactos por el criterio x
                    alert(`Contactos ordenados por ${x}`); 
            }else{
                alert("Criterio no válido");
            }
        }else{
            alert("Lista de contactos no válida");
        }
    }

        let opcion;

        do{

            opcion = prompt("¿Qué quieres hacer? (primero / último / todos / nuevo / ordenar / salir)");
        
            if(opcion === "primero"){
                showContact(contactos, 0);
            }
            else if(opcion === "último"){
                showContact(contactos, contactos.length - 1);
            }
            else if(opcion === "todos"){
                showAllContacts(contactos);
            }
            else if(opcion === "nuevo"){
                let nombre = prompt("Introduce el nombre");
                let telefono = prompt("Introduce el telefono");
                let email = prompt("Introduce el email");
                addNewContact(contactos, nombre, telefono, email);
            }
            else if (opcion === "ordenar"){
                let criterio = prompt("¿Por qué criterio quieres ordenar? (nombre / telefono / email)"); // se pide el criterio por el que se quiere ordenar
                sortContacts(contactos, criterio); // se llama a la función sortContacts con la lista de contactos y el criterio por el que se quiere ordenar
                showAllContacts(contactos); // se llama a la función showAllContacts para mostrar la lista de contactos ordenada
            }
            else if(opcion === "salir"){
                alert("Salir del programa");
            }else{
                alert("Opción no válida");
            }
        }while(opcion !== "salir");
    </script>
</body>
</html>